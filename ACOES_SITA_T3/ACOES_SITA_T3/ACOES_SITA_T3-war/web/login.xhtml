<?xml version='1.0' encoding='UTF-8' ?>


<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                template="/WEB-INF/templates/menu.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    
    <ui:define name="titulo">
        Autenticando
    </ui:define>   
    
    <ui:define name="contenido">
       
            
        
        <c:choose>
            <c:when test="#{empty controlAutorizacion.usuario or empty controlAutorizacion.agente}">
                <h:form id="login">
                    <h:panelGrid columns="2" cellpadding = "10" cellspacing = "1" style="margin: 0 auto;">
                        <h:outputText value="Usuario:"/>
                        <h:inputText value="#{login.usuario}"/>
                        
                        <h:outputText value="Contraseña:"/>
                        <h:inputSecret value="#{login.contrasenia}"/>
                        
                         <f:facet name = "footer">
                             <h:panelGroup style = "display:block; text-align:center">
                                <h:commandButton value="Autenticar" action="#{login.autenticar()}"/>
                             </h:panelGroup>
                            
                            <h:panelGroup >
                                ¿No tienes cuenta? -> <h:link outcome="registro.xhtml" value="¡Regístrate!"/>
                            </h:panelGroup>
                        </f:facet>
                        
                    </h:panelGrid>                    
                </h:form>
            </c:when>
            <c:otherwise>
                <p>Debe salir de la aplicación si quiere entrar como otro usuario</p>
            </c:otherwise>
        </c:choose>
        <h:messages/>
        
        
        
    </ui:define>
        
        
        
        
    

</ui:composition>